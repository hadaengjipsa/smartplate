<!DOCTYPE html>

<html lang="ko">

<head>

<meta charset="UTF-8">

<title>ìŠ¤ë§ˆíŠ¸ ì‹íŒ â€“ ì˜ì–‘ ë¶„ì„</title>

<meta name="viewport" content="width=device-width, initial-scale=1">

<style>

body {

    font-family: Arial, sans-serif;

    margin: 0; padding: 20px;

    background: #f4f4f4;

}

h2 { text-align: center; }

.container {

    background: white;

    padding: 20px;

    border-radius: 10px;

}

button {

    width: 100%; padding: 12px;

    margin-top: 10px;

    border: none; border-radius: 6px;

    font-size: 16px;

    background: #3b82f6; color: white;

}

select, input {

    width: 100%; padding: 10px;

    margin-top: 8px;

    border-radius: 5px;

    border: 1px solid #bbb;

}

.result-box {

    margin-top: 20px;

    padding: 15px;

    border-radius: 10px;

    background: #eef;

}

.good { color: green; font-weight: bold; }

.warn { color: orange; font-weight: bold; }

.bad  { color: red; font-weight: bold; }

</style>

</head>

<body>



<h2>ìŠ¤ë§ˆíŠ¸ ì‹íŒ ì˜ì–‘ ë¶„ì„</h2>

<div class="container">



<!-- ì„±ë³„ ì„ íƒ -->

<h3>1. ì„±ë³„ ì„ íƒ</h3>

<select id="gender">

    <option value="male">ë‚¨ì„±</option>

    <option value="female">ì—¬ì„±</option>

</select>



<!-- ë¼ë‹ˆ ì„ íƒ -->

<h3>2. ì‹ì‚¬ ì„ íƒ</h3>

<select id="meal">

    <option value="breakfast">ì•„ì¹¨</option>

    <option value="lunch">ì ì‹¬</option>

    <option value="dinner">ì €ë…</option>

</select>



<!-- ë°¥ ì„ íƒ -->

<h3>3. ë°¥ ì„ íƒ</h3>

<select id="rice">

    <option value="white">í°ìŒ€ë°¥</option>

    <option value="multi">ì¡ê³¡ë°¥</option>

    <option value="barley">ë³´ë¦¬ë°¥</option>

</select>

<input id="riceAmount" type="number" placeholder="ì„­ì·¨ëŸ‰(g) ì…ë ¥">



<!-- êµ­ ì„ íƒ -->

<h3>4. êµ­ ì„ íƒ</h3>

<select id="soup">

    <option value="perilla">ë“¤ê¹¨ë¯¸ì—­êµ­</option>

    <option value="beansprout">ë§‘ì€ ì½©ë‚˜ë¬¼êµ­</option>

    <option value="radishbeef">ì†Œê³ ê¸°ë¬´êµ­</option>

</select>

<input id="soupAmount" type="number" placeholder="ì„­ì·¨ëŸ‰(g) ì…ë ¥">



<!-- ë°˜ì°¬ ì„ íƒ -->

<h3>5. ë°˜ì°¬ ì„ íƒ (3ê°œê¹Œì§€)</h3>



<select id="side1">

    <option value="">ì„ íƒ ì—†ìŒ</option>

    <option value="egg">ê³„ë€ì°œ</option>

    <option value="anchovy">ë©¸ì¹˜ë³¶ìŒ</option>

    <option value="zucchini">ì• í˜¸ë°•ë³¶ìŒ</option>

    <option value="spinach">ì‹œê¸ˆì¹˜ë‚˜ë¬¼</option>

    <option value="mackerel">ê³ ë“±ì–´ì¡°ë¦¼</option>

    <option value="kimchi">ë°±ê¹€ì¹˜</option>

</select>

<input id="side1Amount" type="number" placeholder="ì„­ì·¨ëŸ‰(g)">



<select id="side2">

    <option value="">ì„ íƒ ì—†ìŒ</option>

    <option value="egg">ê³„ë€ì°œ</option>

    <option value="anchovy">ë©¸ì¹˜ë³¶ìŒ</option>

    <option value="zucchini">ì• í˜¸ë°•ë³¶ìŒ</option>

    <option value="spinach">ì‹œê¸ˆì¹˜ë‚˜ë¬¼</option>

    <option value="mackerel">ê³ ë“±ì–´ì¡°ë¦¼</option>

    <option value="kimchi">ë°±ê¹€ì¹˜</option>

</select>

<input id="side2Amount" type="number" placeholder="ì„­ì·¨ëŸ‰(g)">



<select id="side3">

    <option value="">ì„ íƒ ì—†ìŒ</option>

    <option value="egg">ê³„ë€ì°œ</option>

    <option value="anchovy">ë©¸ì¹˜ë³¶ìŒ</option>

    <option value="zucchini">ì• í˜¸ë°•ë³¶ìŒ</option>

    <option value="spinach">ì‹œê¸ˆì¹˜ë‚˜ë¬¼</option>

    <option value="mackerel">ê³ ë“±ì–´ì¡°ë¦¼</option>

    <option value="kimchi">ë°±ê¹€ì¹˜</option>

</select>

<input id="side3Amount" type="number" placeholder="ì„­ì·¨ëŸ‰(g)">



<button onclick="calculate()">ì˜ì–‘ ë¶„ì„í•˜ê¸°</button>



<div id="result" class="result-box" style="display:none;"></div>



<button onclick="saveMeal()">ì´ ë¼ë‹ˆ ì €ì¥</button>



</div>



<script>

// *** 1gë‹¹ ì˜ì–‘ì†Œ ë°ì´í„° ***

const data = {

    white:{k:1.46,c:0.317,p:0.025,f:0.003,n:0.01},

    multi:{k:1.49,c:0.32,p:0.03,f:0.01,n:0.01},

    barley:{k:1.40,c:0.33,p:0.035,f:0.01,n:0.01},



    perilla:{k:0.21,c:0.01,p:0.01,f:0.011,n:0.2},

    beansprout:{k:0.16,c:0.05,p:0.03,f:0.005,n:0.2},

    radishbeef:{k:0.30,c:0.05,p:0.14,f:0.04,n:0.3},



    egg:{k:1.42,c:0.02,p:0.10,f:0.10,n:0.3},

    anchovy:{k:1.73,c:0.009,p:0.186,f:0.102,n:0.45},

    zucchini:{k:1.42,c:0.10,p:0.03,f:0.10,n:0.2},

    spinach:{k:0.68,c:0.073,p:0.032,f:0.036,n:0.2},

    mackerel:{k:1.41,c:0.041,p:0.113,f:0.088,n:0.4},

    kimchi:{k:0.22,c:0.048,p:0.012,f:0.002,n:0.45}

};



// ì„±ë³„ë³„ í•˜ë£¨ ê¸°ì¤€

const base = {

    male:{cal:2000, carb:300, prot:60, fat:50, sodium:2000},

    female:{cal:1600, carb:250, prot:50, fat:40, sodium:2000}

};



// ì‹ì‚¬ë³„ ê¶Œì¥ ë¹„ìœ¨

const mealRate = {breakfast:0.3, lunch:0.4, dinner:0.3};



function getMealTargets(){

    const gender = document.getElementById("gender").value;

    const meal = document.getElementById("meal").value;

    const g = base[gender];

    const r = mealRate[meal];



    return {

        cal: g.cal*r,

        carb: g.carb*r,

        prot: g.prot*r,

        fat: g.fat*r,

        sodium: g.sodium*r

    };

}



function calcItem(key, amount){

    if(!key || !amount) return {cal:0,carb:0,prot:0,fat:0,sodium:0};

    const d = data[key];

    return {

        cal: d.k * amount,

        carb: d.c * amount,

        prot: d.p * amount,

        fat: d.f * amount,

        sodium: d.n * amount

    };

}



function rate(value,target){

    return (value/target*100).toFixed(1);

}



function colorize(v){

    if(v<80) return `<span class='warn'>${v}% (ë¶€ì¡±)</span>`;

    if(v>120) return `<span class='bad'>${v}% (ê³¼ë‹¤)</span>`;

    return `<span class='good'>${v}% (ì ì •)</span>`;

}



function calculate(){

    const mealTargets = getMealTargets();



    let items = [];

    items.push(calcItem(rice.value, Number(riceAmount.value)));

    items.push(calcItem(soup.value, Number(soupAmount.value)));

    items.push(calcItem(side1.value, Number(side1Amount.value)));

    items.push(calcItem(side2.value, Number(side2Amount.value)));

    items.push(calcItem(side3.value, Number(side3Amount.value)));



    let total = {cal:0,carb:0,prot:0,fat:0,sodium:0};

    items.forEach(i=>{

        total.cal += i.cal;

        total.carb += i.carb;

        total.prot += i.prot;

        total.fat += i.fat;

        total.sodium += i.sodium;

    });



    const calR = rate(total.cal, mealTargets.cal);

    const carbR = rate(total.carb, mealTargets.carb);

    const protR = rate(total.prot, mealTargets.prot);

    const fatR = rate(total.fat, mealTargets.fat);

    const sodiumR = rate(total.sodium, mealTargets.sodium);



    document.getElementById("result").style.display="block";

    document.getElementById("result").innerHTML = `

        <h3>ğŸ“Š ì„­ì·¨ ê²°ê³¼</h3>

        ì¹¼ë¡œë¦¬: ${colorize(calR)}<br>

        íƒ„ìˆ˜í™”ë¬¼: ${colorize(carbR)}<br>

        ë‹¨ë°±ì§ˆ: ${colorize(protR)}<br>

        ì§€ë°©: ${colorize(fatR)}<br>

        ë‚˜íŠ¸ë¥¨: ${colorize(sodiumR)}<br>

    `;



    window._lastResult = {total, rates:{calR,carbR,protR,fatR,sodiumR}};

}



function saveMeal(){

    const meal = document.getElementById("meal").value;

    if(!window._lastResult){

        alert("ë¨¼ì € ê³„ì‚°ì„ í•´ì£¼ì„¸ìš”!");

        return;

    }

    localStorage.setItem(meal, JSON.stringify(window._lastResult));

    alert("ì´ ë¼ë‹ˆê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!");

}

</script>



</body>

</html>
